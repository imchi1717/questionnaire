<div class="background">
  <!-- 橫幅 -->
  <img src="/banner1.png" style="width: 100%; padding-bottom: 30px;">

  <!-- 問卷標題 -->
  <div style="text-align: center; padding: 50px; width: 950px; margin: 0 auto 0 auto;">
    <div style="font-size: 30px; font-weight: 500; padding-bottom: 10px; letter-spacing: 3px;">問卷列表</div>
    <div style="font-size: 13px; padding-top: 10px; letter-spacing: 1px;">
      無論你是資深收藏家、剛入坑的新手，還是單純被萌到的路人，我們都想聽聽你的意見！
      調查大家眼中的「公仔魅力」，一起挖掘那些讓人忍不住掏錢、拍照、炫耀的瞬間。
    </div>
    <div style="color: #971D10; font-size: 10px; padding-top: 20px; letter-spacing: 1px;"> ▋▋▋</div>
  </div>

  <!-- 搜尋區塊 -->
  <div class="searchCss">
    <span class="searchItem">問卷名稱</span>
    <input class="searchInput2Css" [(ngModel)]="inputData">
    <!-- <span class="searchItem">狀態</span>
    <select class="searchInputCss" [(ngModel)]="selectData" (change)="changeState()">
      <option value="">--Please choose--</option>
      <option value="ing">進行中</option>
      <option value="start">即將開始</option>
      <option value="end">結束</option>
    </select> -->
    <span class="searchItem">開始時間</span>
    <input class="searchInputCss" type="date" [(ngModel)]="sDate">
    <span class="searchItem">結束時間</span>
    <input class="searchInputCss" type="date" [(ngModel)]="eDate" min="{{ sDate }}">
    <button class="btn1Css" (click)="searchBtn()">搜尋</button>
    <button class="btn1Css" (click)="clearBtn()">清除</button>
  </div>

  <!-- 表格區塊 -->
  <div class="mat-elevation-z8">
    <table mat-table [dataSource]="dataSource">

      <!-- 編號 -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> 編號 </th>
        <td mat-cell *matCellDef="let element"> {{element.id}} </td>
      </ng-container>

      <!-- 名稱 -->
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef> 名稱 </th>
        <td mat-cell *matCellDef="let element">
          @if (element.state == '進行中') {
          <p (click)="goToFeedback(element)" class="routerCss">
            {{element.title}}
          </p>
          }
          @else{
          {{element.title}}
          }
        </td>
      </ng-container>

      <!-- 狀態 -->
      <ng-container matColumnDef="state">
        <th mat-header-cell *matHeaderCellDef> 狀態 </th>

        <td mat-cell *matCellDef="let element"> {{element.state}} </td>
      </ng-container>

      <!-- 開始時間 -->
      <ng-container matColumnDef="startDate">
        <th mat-header-cell *matHeaderCellDef> 開始時間 </th>
        <td mat-cell *matCellDef="let element"> {{element.startDate}} </td>
      </ng-container>

      <!-- 結束時間 -->
      <ng-container matColumnDef="endDate">
        <th mat-header-cell *matHeaderCellDef> 結束時間 </th>
        <td mat-cell *matCellDef="let element"> {{element.endDate}} </td>
      </ng-container>

      <!-- 結果 -->
      <ng-container matColumnDef="result">
        <th mat-header-cell *matHeaderCellDef> 結果 </th>
        <td mat-cell *matCellDef="let element">
          @if (element.state == '進行中') {
          {{element.result}}
          }
          @else if (element.state == '結束') {
          <p (click)="goToFeedback(element)" class="resultCss">
            {{element.result}}
          </p>
          } @else {
          {{element.result}}
          }
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" [ngClass]="{
              'cssA': row.state == '進行中',
              'cssB': row.state == '即將開始',
              'cssC': row.state == '結束',
            }">
      </tr>
    </table>

    <br><br>
    <mat-paginator [pageSizeOptions]="[ 10, 20]" showFirstLastButtons aria-label="Select page of periodic elements">
    </mat-paginator>
  </div>
</div>
